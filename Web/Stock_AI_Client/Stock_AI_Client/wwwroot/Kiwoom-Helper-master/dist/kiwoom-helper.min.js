!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return e+"_"+t}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function e(){n(this,e),window.KiwoomHelper=this,this._eventHandler={},this._screenNo=0,this._requestScreens=[],this._registerScreens=[],this._attach()}return e.prototype.isQWebviewPlus=function(){return"kiwoom"in window},e.prototype._attach=function(){var t=this;e.EVENTS.forEach(function(e){document.addEventListener(e+".kiwoom",t)})},e.prototype._getScreenNo=function(){return"SRC"+this._screenNo++},e.prototype.handleEvent=function(e){var t=e.detail,n=e.type.substring(0,e.type.indexOf(".kiwoom"));"receiveTrData"===n&&(t.size=kiwoom?kiwoom.getRepeatCnt(t.trCode,t.rQName):0);var i=this._eventHandler[o(n,t.trCode)];i&&i.call(this,t)},e.prototype.on=function(t,n,r){var s=this;if(!this.isQWebviewPlus())return this;if(e.EVENTS.indexOf(t)!==-1)return"object"===("undefined"==typeof n?"undefined":i(n))&&"undefined"==typeof r?(Object.keys(n).forEach(function(e){s.on(t,e,n[e])}),this):("string"==typeof n&&"function"==typeof r&&(this._eventHandler[o(t,n)]=r),this)},e.prototype.off=function(e,t){var n=this;return this.isQWebviewPlus()?0===arguments.length?(this._eventHandler={},this):("undefined"==typeof t?this._eventHandler[e]=void 0:"string"==typeof t?this._eventHandler[o(e,t)]=void 0:Array.isArray(t)&&Object.keys(this._eventHandler).filter(function(t){return 0===t.indexOf(e+"_")}).forEach(function(t){n._eventHandler[o(e,t)]=void 0}),this):this},e.prototype.isLogin=function(){return!!this.isQWebviewPlus()&&kiwoom.getConnectState()},e.prototype.login=function(){return this.isQWebviewPlus()?new Promise(function(e,t){var n=kiwoom.getConnectState();if(0==n){var o=kiwoom.commConnect();o<0&&t(Error(o))}else 1==n&&e();var i=function r(n){var o=n.detail;0==o?e():t(Error(o)),document.removeEventListener("eventConnect.kiwoom",r)};document.addEventListener("eventConnect.kiwoom",i)}):Promise.reject()},e.prototype.getLoginInfo=function(){return this.isQWebviewPlus()?{account:kiwoom.getLoginInfo("ACCNO").replace(/;$/,"").split(";"),user:{id:kiwoom.getLoginInfo("USER_ID"),name:kiwoom.getLoginInfo("USER_NAME")}}:{}},e.prototype.request=function(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(!this.isQWebviewPlus())return-1;Object.keys(t).forEach(function(e){kiwoom.setInputValue(e,t[e])});var o=this._getScreenNo(),i=kiwoom.commRqData(e,e,n?2:0,o);return 0===i&&this._requestScreens.push(o),o},e.prototype.register=function(e,t){var n=arguments.length<=2||void 0===arguments[2]||arguments[2];if(!this.isQWebviewPlus())return-1;Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);var o=this._getScreenNo(),i=kiwoom.setRealReg(o,e.join(";"),t.join(";"),n?0:1);return 0===i&&this._registerScreens.push(o),i},e.prototype.disconnect=function(e){var t=arguments.length<=1||void 0===arguments[1]?"ALL":arguments[1];this.isQWebviewPlus()&&(e?this._requestScreens.indexOf(e)!==-1?kiwwom.DisconnectRealData(e):this._registerScreens.indexOf(e)!==-1&&kiwwom.SetRealRemove(e,t):(this._requestScreens.forEach(function(e){kiwwom.DisconnectRealData(e)}),this._requestScreens.length=0,kiwwom.SetRealRemove("ALL","ALL"),this._registerScreens.length=0))},e.prototype.get=function(){if(!this.isQWebviewPlus())return null;switch(arguments.length){case 1:return JSON.parse(kiwoom.getCommDataEx(arguments[0],arguments[0]));case 2:return kiwoom.commGetData(arguments[0],"-1","",arguments[1],"");case 3:if(!isNaN(arguments[1])&&isNaN(arguments[2])){var e;return(e=kiwoom).commGetData.apply(e,[arguments[0],""].concat(Array.prototype.slice.call(arguments)))}var t;return(t=kiwoom).commGetData.apply(t,Array.prototype.slice.call(arguments).concat([0,""]))}},e}();r.EVENTS=["receiveMsg","receiveTrData","receiveRealData","receiveChejanData","receiveConditionVer","receiveTrCondition","receiveRealCondition"],t["default"]=new r}]);